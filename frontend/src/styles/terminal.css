/* =========================================================
   AUTOSHIELD TECH — TRADING TERMINAL
   MOBILE-SAFE + DESKTOP-PERFECT
   ========================================================= */

/* ===================== THEME ===================== */
.terminalRoot{
  --bg-main: rgba(245,240,255,.94);
  --bg-soft: rgba(235,228,255,.95);
  --bg-panel: rgba(245,240,255,.96);
  --border-main: rgba(160,120,255,.28);
  --accent: rgba(160,120,255,.45);
  --accent-soft: rgba(160,120,255,.18);
  --text-main: #111827;
  --text-soft: rgba(17,24,39,.65);

  width: 100%;
  height: 100%;
  position: relative;
  color: var(--text-main);
}

/* ===================== DESKTOP SHELL ===================== */
.terminalRoot .tvShell{
  width: 100%;
  height: calc(100vh - 140px);
  display: grid;
  grid-template-columns: 56px minmax(0,1fr) 360px;
  grid-template-rows: 56px minmax(0,1fr);
  overflow: hidden;
  background: var(--bg-main);
  border: 1px solid var(--border-main);
  border-radius: 16px;
}

/* ===================== LEFT TOOLBAR ===================== */
.tvLeftBar{
  grid-row: 1 / span 2;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px;
  background: rgba(0,0,0,.25);
  border-right: 1px solid var(--border-main);
}

.tvToolBtn{
  height: 34px;
  border-radius: 12px;
  border: 1px solid var(--border-main);
  background: rgba(0,0,0,.22);
  color: #fff;
}

/* ===================== TOP BAR ===================== */
.tvTopBar{
  grid-column: 2 / -1;
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 10px 12px;
  background: linear-gradient(180deg, var(--bg-soft), var(--bg-panel));
  border-bottom: 1px solid var(--border-main);
}

/* ===================== CHART ===================== */
.tvChartArea{
  grid-column: 2;
  grid-row: 2;
  position: relative;
}

.tvIframe{
  width: 100%;
  height: 100%;
  border: none;
}

/* ===================== RIGHT ORDER PANEL (DESKTOP) ===================== */
.tvRight{
  grid-column: 3;
  grid-row: 2;
  padding: 12px;
  background: var(--bg-panel);
  border-left: 1px solid var(--border-main);
  overflow-y: auto;
}

/* ===================== BOTTOM PANEL ===================== */
.tvBottom{
  position: absolute;
  left: 12px;
  right: 12px;
  bottom: 12px;
  height: 260px;
  background: var(--bg-panel);
  border: 1px solid var(--border-main);
  border-radius: 16px;
  overflow: hidden;
}

.tvBottomTabs{
  display: flex;
  gap: 8px;
  padding: 10px;
  border-bottom: 1px solid var(--border-main);
}

.tvTab{
  padding: 8px 12px;
  border-radius: 999px;
  background: var(--accent-soft);
  border: 1px solid var(--border-main);
}

.tvTab.active{
  background: var(--accent);
}

.tvBottomBody{
  padding: 12px;
  height: calc(260px - 56px);
  overflow-y: auto;
}

/* =========================================================
   MOBILE MODE — HARD OVERRIDE
   ========================================================= */
@media (max-width: 768px){

  /* Kill desktop grid entirely */
  .terminalRoot .tvShell{
    display: flex;
    flex-direction: column;
    height: 100%;
    border-radius: 0;
  }

  /* Hide desktop-only UI */
  .tvLeftBar,
  .tvRight{
    display: none !important;
  }

  /* Mobile top bar */
  .tvTopBar{
    flex-wrap: wrap;
    justify-content: space-between;
  }

  /* Chart gets priority */
  .tvChartArea{
    flex: 1;
    min-height: 55svh;
  }

  /* Bottom panel becomes compact */
  .tvBottom{
    position: relative;
    height: auto;
    border-radius: 0;
    border-left: none;
    border-right: none;
  }

  .tvBottomBody{
    height: auto;
    max-height: 28svh;
  }

  /* Mobile order sheet (from Market.jsx) */
  .mobileOrderSheet{
    position: fixed;
    inset: auto 0 0 0;
    background: #fff;
    z-index: 9999;
    padding: 16px;
    border-top-left-radius: 16px;
    border-top-right-radius: 16px;
    box-shadow: 0 -10px 30px rgba(0,0,0,.25);
  }

  .sheetHandle{
    width: 40px;
    height: 4px;
    background: #ccc;
    border-radius: 999px;
    margin: 0 auto 10px;
  }
}
